<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#0ea5e9">
  <title>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ ‚Ññ1: LSB —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—è ‚Äî –°—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—è</title>
  <link rel="icon" type="image/svg+xml" href="../img/favicon.svg">
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script>if(localStorage.getItem('theme')==='dark'){document.documentElement.classList.add('dark');}</script>
</head>
<body>

  <aside>
    <div class="logo">
      <div class="logo-icon">
        <svg viewBox="0 0 24 24">
          <path d="M22 10v6M2 10l10-5 10 5-10 5z"/>
          <path d="M6 12v5c3 3 9 3 12 0v-5"/>
        </svg>
      </div>
      <div class="logo-text">
        –°—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—è
        <span>–æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å</span>
      </div>
    </div>
    <nav aria-label="–ì–æ–ª–æ–≤–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è">
      <a href="../index.html">
        <span class="nav-icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg></span>
        –õ–µ–∫—Ü—ñ—ó
      </a>
      <a href="../practicals.html" class="active">
        <span class="nav-icon" aria-hidden="true"><svg viewBox="0 0 24 24"><rect x="2" y="3" width="20" height="14" rx="2"/><path d="M8 21h8"/><path d="M12 17v4"/></svg></span>
        –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ
      </a>
      <a href="../tests.html">
        <span class="nav-icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg></span>
        –¢–µ—Å—Ç–∏
      </a>
      <a href="../materials.html">
        <span class="nav-icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/></svg></span>
        –ú–∞—Ç–µ—Ä—ñ–∞–ª–∏
      </a>
    </nav>
    <div class="sidebar-footer">
      <button class="theme-toggle" onclick="toggleTheme()" aria-label="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ç–µ–º—É">
        <svg id="theme-icon" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
        <span id="theme-label">–¢–µ–º–Ω–∞ —Ç–µ–º–∞</span>
      </button>
    </div>
  </aside>

  <main>
    <div class="lecture-nav-top">
      <a href="../practicals.html" class="back-link">&larr; –ù–∞–∑–∞–¥ –¥–æ –ø—Ä–∞–∫—Ç–∏—á–Ω–∏—Ö</a>
      <span class="lecture-badge">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ 1</span>
    </div>

    <article class="lecture-content">

    <h1>LSB —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—è</h1>
    <p class="lecture-subtitle">–ë–∞–∑–æ–≤–∏–π —Ç–∞ –∫–ª—é—á-–±–∞–∑–æ–≤–∞–Ω–∏–π LSB, –º–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ PSNR/SSIM</p>

    <!-- –¶—ñ–ª—ñ —Ä–æ–±–æ—Ç–∏ -->
    <section class="task-box">
        <h2>üéØ –¶—ñ–ª—ñ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏</h2>
        <ul>
            <li>–ó—Ä–æ–∑—É–º—ñ—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø —Ä–æ–±–æ—Ç–∏ –º–µ—Ç–æ–¥—É –Ω–∞–π–º–µ–Ω—à–æ–≥–æ –∑–Ω–∞—á—É—â–æ–≥–æ –±—ñ—Ç–∞ (LSB)</li>
            <li>–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –±–∞–∑–æ–≤–∏–π LSB –∫–æ–¥—É–≤–∞–ª—å–Ω–∏–∫ —Ç–∞ –¥–µ–∫–æ–¥—É–≤–∞–ª—å–Ω–∏–∫ –Ω–∞ Python</li>
            <li>–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–æ–∫—Ä–∞—â–µ–Ω–∏–π LSB –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ (PRNG)</li>
            <li>–û–±—á–∏—Å–ª–∏—Ç–∏ —Ç–∞ –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ —Å—Ç–µ–≥–æ-–∑–æ–±—Ä–∞–∂–µ–Ω—å: PSNR —Ç–∞ SSIM</li>
            <li>–î–æ—Å–ª—ñ–¥–∏—Ç–∏ –≤–ø–ª–∏–≤ –æ–±'—î–º—É –≤–±—É–¥–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö –Ω–∞ —è–∫—ñ—Å—Ç—å –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</li>
        </ul>
    </section>

    <!-- –¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ -->
    <section>
        <h2>üìö –¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞</h2>

        <div class="tabs-container">
            <div class="tabs-nav">
                <button class="tab-button active" onclick="switchTab(event, 'lsb-principle')">
                    üî¢ LSB –ø—Ä–∏–Ω—Ü–∏–ø
                </button>
                <button class="tab-button" onclick="switchTab(event, 'pixel-repr')">
                    üñºÔ∏è –ü—ñ–∫—Å–µ–ª—ñ —Ç–∞ –±—ñ—Ç–∏
                </button>
                <button class="tab-button" onclick="switchTab(event, 'key-based')">
                    üîë –ö–ª—é—á-–±–∞–∑–æ–≤–∞–Ω–∏–π LSB
                </button>
                <button class="tab-button" onclick="switchTab(event, 'quality-metrics')">
                    üìä –ú–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ
                </button>
            </div>

            <!-- LSB –ø—Ä–∏–Ω—Ü–∏–ø -->
            <div class="tab-content active" id="lsb-principle">
                <h3>–ú–µ—Ç–æ–¥ –Ω–∞–π–º–µ–Ω—à–æ–≥–æ –∑–Ω–∞—á—É—â–æ–≥–æ –±—ñ—Ç–∞</h3>

                <p>
                    LSB (Least Significant Bit) ‚Äî –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —ñ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏–π –º–µ—Ç–æ–¥ —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó
                    –∑–æ–±—Ä–∞–∂–µ–Ω—å. –°—É—Ç—å –ø–æ–ª—è–≥–∞—î –≤ –∑–∞–º—ñ–Ω—ñ –º–æ–ª–æ–¥—à–æ–≥–æ –±—ñ—Ç–∞ –∫–æ–∂–Ω–æ–≥–æ –ø—ñ–∫—Å–µ–ª—è –Ω–∞ –±—ñ—Ç
                    –ø—Ä–∏—Ö–æ–≤–∞–Ω–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
                </p>

                <div class="formula-box">
                    –ó–Ω–∞—á–µ–Ω–Ω—è –ø—ñ–∫—Å–µ–ª—è: P = b‚Çáb‚ÇÜb‚ÇÖb‚ÇÑb‚ÇÉb‚ÇÇb‚ÇÅb‚ÇÄ

                    LSB –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è:
                    P' = (P & 0xFE) | m

                    –¥–µ m ‚àà {0, 1} ‚Äî –±—ñ—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
                </div>

                <p><strong>–ü—Ä–∏–∫–ª–∞–¥:</strong></p>
                <ul>
                    <li>–ü—ñ–∫—Å–µ–ª—å = 156 = <code>10011100</code></li>
                    <li>–ë—ñ—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è = 1</li>
                    <li>–†–µ–∑—É–ª—å—Ç–∞—Ç = <code>10011101</code> = 157</li>
                    <li>–ó–º—ñ–Ω–∞: ¬±1 (–Ω–µ–ø–æ–º—ñ—Ç–Ω–∞ –¥–ª—è –æ–∫–∞)</li>
                </ul>

                <p><strong>–Ñ–º–Ω—ñ—Å—Ç—å –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è:</strong></p>
                <div class="formula-box">
                    C = W √ó H √ó K –±—ñ—Ç

                    –¥–µ W ‚Äî —à–∏—Ä–∏–Ω–∞, H ‚Äî –≤–∏—Å–æ—Ç–∞, K ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–∞–Ω–∞–ª—ñ–≤
                    –î–ª—è RGB 512√ó512: C = 512 √ó 512 √ó 3 = 786 432 –±—ñ—Ç ‚âà 96 –ö–ë
                </div>
            </div>

            <!-- –ü—ñ–∫—Å–µ–ª—ñ —Ç–∞ –±—ñ—Ç–∏ -->
            <div class="tab-content" id="pixel-repr">
                <h3>–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å —É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ</h3>

                <p>
                    –¶–∏—Ñ—Ä–æ–≤–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è ‚Äî —Ü–µ –¥–≤–æ–≤–∏–º—ñ—Ä–Ω–∏–π –º–∞—Å–∏–≤ –ø—ñ–∫—Å–µ–ª—ñ–≤. –ö–æ–∂–µ–Ω –ø—ñ–∫—Å–µ–ª—å –∑–±–µ—Ä—ñ–≥–∞—î
                    —ñ–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ñ—Å—Ç—å –∫–æ–ª—å–æ—Ä—É —É –≤–∏–≥–ª—è–¥—ñ —Ü—ñ–ª–æ–≥–æ —á–∏—Å–ª–∞ –≤—ñ–¥ 0 –¥–æ 255 (8 –±—ñ—Ç).
                </p>

                <h4>–í—ñ–¥—Ç—ñ–Ω–∫–∏ —Å—ñ—Ä–æ–≥–æ (Grayscale)</h4>
                <ul>
                    <li>1 –∫–∞–Ω–∞–ª, –∑–Ω–∞—á–µ–Ω–Ω—è 0‚Äì255</li>
                    <li>0 = —á–æ—Ä–Ω–∏–π, 255 = –±—ñ–ª–∏–π</li>
                    <li>–Ñ–º–Ω—ñ—Å—Ç—å: W √ó H –±—ñ—Ç (1 –±—ñ—Ç –Ω–∞ –ø—ñ–∫—Å–µ–ª—å)</li>
                </ul>

                <h4>–ö–æ–ª—å–æ—Ä–æ–≤–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (RGB)</h4>
                <ul>
                    <li>3 –∫–∞–Ω–∞–ª–∏: —á–µ—Ä–≤–æ–Ω–∏–π (R), –∑–µ–ª–µ–Ω–∏–π (G), —Å–∏–Ω—ñ–π (B)</li>
                    <li>–ö–æ–∂–µ–Ω –∫–∞–Ω–∞–ª: 0‚Äì255</li>
                    <li>–Ñ–º–Ω—ñ—Å—Ç—å: W √ó H √ó 3 –±—ñ—Ç (3 –±—ñ—Ç–∏ –Ω–∞ –ø—ñ–∫—Å–µ–ª—å)</li>
                </ul>

                <div class="formula-box">
                    –ü—ñ–∫—Å–µ–ª—å RGB: (R, G, B) = (142, 200, 87)

                    –£ –¥–≤—ñ–π–∫–æ–≤—ñ–π —Ñ–æ—Ä–º—ñ:
                    R = 10001110
                    G = 11001000
                    B = 01010111

                    LSB –∫–æ–∂–Ω–æ–≥–æ –∫–∞–Ω–∞–ª—É ‚Üí 3 –±—ñ—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–∞ –ø—ñ–∫—Å–µ–ª—å
                </div>

                <h4>–ë—ñ—Ç–æ–≤–µ –º–∞—Å–∫—É–≤–∞–Ω–Ω—è</h4>
                <ul>
                    <li><code>P & 0xFE</code> ‚Äî –æ–±–Ω—É–ª–∏—Ç–∏ LSB (–º–∞—Å–∫–∞ <code>11111110</code>)</li>
                    <li><code>P | 0x01</code> ‚Äî –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ LSB —É 1</li>
                    <li><code>P & 0x01</code> ‚Äî –≤–∏—Ç—è–≥–Ω—É—Ç–∏ LSB</li>
                    <li><code>P ^ 0x01</code> ‚Äî —ñ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ LSB</li>
                </ul>
            </div>

            <!-- –ö–ª—é—á-–±–∞–∑–æ–≤–∞–Ω–∏–π LSB -->
            <div class="tab-content" id="key-based">
                <h3>LSB –∑ —Å–µ–∫—Ä–µ—Ç–Ω–∏–º –∫–ª—é—á–µ–º (PRNG)</h3>

                <p>
                    –ë–∞–∑–æ–≤–∏–π LSB –≤–±—É–¥–æ–≤—É—î –¥–∞–Ω—ñ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ, —â–æ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ –≤—Ä–∞–∑–ª–∏–≤–∏–º.
                    –ü–æ–∫—Ä–∞—â–µ–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø—Å–µ–≤–¥–æ–≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —á–∏—Å–µ–ª (PRNG)
                    –¥–ª—è –≤–∏–±–æ—Ä—É –ø–æ–∑–∏—Ü—ñ–π –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è.
                </p>

                <div class="formula-box">
                    seed = hash(key)
                    PRNG(seed) ‚Üí –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ —ñ–Ω–¥–µ–∫—Å—ñ–≤ –ø—ñ–∫—Å–µ–ª—ñ–≤

                    –í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è: message[i] ‚Üí pixel[permutation[i]]
                    –í–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è: pixel[permutation[i]] ‚Üí message[i]
                </div>

                <p><strong>–ü–µ—Ä–µ–≤–∞–≥–∏:</strong></p>
                <ul>
                    <li>–ë—ñ—Ç–∏ —Ä–æ–∑–ø–æ–¥—ñ–ª—è—é—Ç—å—Å—è —Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–æ –ø–æ –≤—Å—å–æ–º—É –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—é</li>
                    <li>–ë–µ–∑ –∫–ª—é—á–∞ –Ω–µ–º–æ–∂–ª–∏–≤–æ –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –±—ñ—Ç—ñ–≤</li>
                    <li>–£—Å–∫–ª–∞–¥–Ω—é—î –≤—ñ–∑—É–∞–ª—å–Ω–∏–π —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–π —Å—Ç–µ–≥–∞–Ω–æ–∞–Ω–∞–ª—ñ–∑</li>
                    <li>–ö–æ–∂–µ–Ω –∫–ª—é—á —Å—Ç–≤–æ—Ä—é—î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª</li>
                </ul>

                <p><strong>–ê–ª–≥–æ—Ä–∏—Ç–º:</strong></p>
                <ol>
                    <li>–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ PRNG –∑ —Å–µ–∫—Ä–µ—Ç–Ω–∏–º –∫–ª—é—á–µ–º (seed)</li>
                    <li>–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫—É —ñ–Ω–¥–µ–∫—Å—ñ–≤ –ø—ñ–∫—Å–µ–ª—ñ–≤</li>
                    <li>–í–±—É–¥–æ–≤—É–≤–∞—Ç–∏ –±—ñ—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É –ø—ñ–∫—Å–µ–ª—ñ –∑–∞ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–æ—é</li>
                    <li>–î–ª—è –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è ‚Äî –≤—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏ —Ç—É –∂ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫—É –∑ —Ç–∏–º –∂–µ –∫–ª—é—á–µ–º</li>
                </ol>
            </div>

            <!-- –ú–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ -->
            <div class="tab-content" id="quality-metrics">
                <h3>–ú–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ —Å—Ç–µ–≥–æ-–∑–æ–±—Ä–∞–∂–µ–Ω—å</h3>

                <h4>PSNR (Peak Signal-to-Noise Ratio)</h4>
                <p>
                    –í–∏–º—ñ—Ä—é—î –≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –º–æ–∂–ª–∏–≤–æ—ó –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ —Å–∏–≥–Ω–∞–ª—É –¥–æ –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ —à—É–º—É.
                    –ß–∏–º –≤–∏—â–µ PSNR, —Ç–∏–º –º–µ–Ω—à–µ —Å–ø–æ—Ç–≤–æ—Ä–µ–Ω—å.
                </p>

                <div class="formula-box">
                    MSE = (1 / M¬∑N) ¬∑ Œ£·µ¢ Œ£‚±º [I(i,j) - I'(i,j)]¬≤

                    PSNR = 10 ¬∑ log‚ÇÅ‚ÇÄ(MAX¬≤ / MSE) –¥–ë

                    –¥–µ MAX = 255 –¥–ª—è 8-–±—ñ—Ç–Ω–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å
                </div>

                <p><strong>–Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è:</strong></p>
                <ul>
                    <li>PSNR &gt; 40 –¥–ë ‚Äî –≤—ñ–¥–º—ñ–Ω–Ω–∞ —è–∫—ñ—Å—Ç—å, –∑–º—ñ–Ω–∏ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ</li>
                    <li>30‚Äì40 –¥–ë ‚Äî —Ö–æ—Ä–æ—à–∞ —è–∫—ñ—Å—Ç—å</li>
                    <li>20‚Äì30 –¥–ë ‚Äî –∑–∞–¥–æ–≤—ñ–ª—å–Ω–∞ —è–∫—ñ—Å—Ç—å, –ø–æ–º—ñ—Ç–Ω—ñ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏</li>
                    <li>&lt; 20 –¥–ë ‚Äî –ø–æ–≥–∞–Ω–∞ —è–∫—ñ—Å—Ç—å</li>
                </ul>

                <h4>SSIM (Structural Similarity Index)</h4>
                <p>
                    –û—Ü—ñ–Ω—é—î —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—É –ø–æ–¥—ñ–±–Ω—ñ—Å—Ç—å –∑–æ–±—Ä–∞–∂–µ–Ω—å, –≤—Ä–∞—Ö–æ–≤—É—é—á–∏ —è—Å–∫—Ä–∞–≤—ñ—Å—Ç—å, –∫–æ–Ω—Ç—Ä–∞—Å—Ç —Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É.
                    –ë–ª–∏–∂—á–µ –¥–æ –ª—é–¥—Å—å–∫–æ–≥–æ —Å–ø—Ä–∏–π–Ω—è—Ç—Ç—è –Ω—ñ–∂ PSNR.
                </p>

                <div class="formula-box">
                    SSIM(x,y) = [l(x,y)]^Œ± ¬∑ [c(x,y)]^Œ≤ ¬∑ [s(x,y)]^Œ≥

                    l(x,y) = (2Œº‚ÇìŒº·µß + C‚ÇÅ) / (Œº‚Çì¬≤ + Œº·µß¬≤ + C‚ÇÅ)      ‚Äî —è—Å–∫—Ä–∞–≤—ñ—Å—Ç—å
                    c(x,y) = (2œÉ‚ÇìœÉ·µß + C‚ÇÇ) / (œÉ‚Çì¬≤ + œÉ·µß¬≤ + C‚ÇÇ)      ‚Äî –∫–æ–Ω—Ç—Ä–∞—Å—Ç
                    s(x,y) = (œÉ‚Çì·µß + C‚ÇÉ) / (œÉ‚ÇìœÉ·µß + C‚ÇÉ)              ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
                </div>

                <p><strong>–Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è:</strong></p>
                <ul>
                    <li>SSIM = 1.0 ‚Äî —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</li>
                    <li>SSIM &gt; 0.99 ‚Äî –∑–º—ñ–Ω–∏ –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ</li>
                    <li>SSIM &gt; 0.95 ‚Äî —Ö–æ—Ä–æ—à–∞ —è–∫—ñ—Å—Ç—å</li>
                    <li>SSIM &lt; 0.90 ‚Äî –ø–æ–º—ñ—Ç–Ω—ñ —Å–ø–æ—Ç–≤–æ—Ä–µ–Ω–Ω—è</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- –ü—Ä–∞–∫—Ç–∏—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ -->
    <section>
        <h2>üíª –ü—Ä–∞–∫—Ç–∏—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞</h2>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 1 -->
        <div class="task-box">
            <h3><span class="step-number">1</span>–ë–∞–∑–æ–≤–∏–π LSB –∫–æ–¥—É–≤–∞–ª—å–Ω–∏–∫/–¥–µ–∫–æ–¥—É–≤–∞–ª—å–Ω–∏–∫</h3>

            <h4>–î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:</h4>
            <pre class="python"><code>import numpy as np
from PIL import Image
import matplotlib.pyplot as plt

def text_to_binary(text):
    """–ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î —Ç–µ–∫—Å—Ç —É –±—ñ–Ω–∞—Ä–Ω–∏–π —Ä—è–¥–æ–∫ (UTF-8)"""
    binary = ''.join(format(byte, '08b') for byte in text.encode('utf-8'))
    return binary

def binary_to_text(binary_string):
    """–ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î –±—ñ–Ω–∞—Ä–Ω–∏–π —Ä—è–¥–æ–∫ –Ω–∞–∑–∞–¥ —É —Ç–µ–∫—Å—Ç (UTF-8)"""
    # –î–æ–ø–æ–≤–Ω—é—î–º–æ –¥–æ –∫—Ä–∞—Ç–Ω–æ–≥–æ 8
    while len(binary_string) % 8 != 0:
        binary_string += '0'
    bytes_list = [int(binary_string[i:i+8], 2) for i in range(0, len(binary_string), 8)]
    return bytes(bytes_list).decode('utf-8', errors='replace')

# –¢–µ—Å—Ç
text = "–ü—Ä–∏–≤—ñ—Ç, —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—î!"
binary = text_to_binary(text)
print(f"–¢–µ–∫—Å—Ç: {text}")
print(f"–î–æ–≤–∂–∏–Ω–∞ —Ç–µ–∫—Å—Ç—É (–±–∞–π—Ç): {len(text.encode('utf-8'))}")
print(f"–ë—ñ–Ω–∞—Ä–Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è ({len(binary)} –±—ñ—Ç): {binary[:40]}...")
print(f"–í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è: {binary_to_text(binary)}")</code></pre>

            <h4>LSB Encoder (–≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è):</h4>
            <pre class="python"><code>def lsb_encode(image_path, message, output_path):
    """
    –í–±—É–¥–æ–≤—É—î —Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –º–µ—Ç–æ–¥–æ–º LSB.

    Parameters:
    -----------
    image_path : str ‚Äî —à–ª—è—Ö –¥–æ –≤—Ö—ñ–¥–Ω–æ–≥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    message : str ‚Äî –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è
    output_path : str ‚Äî —à–ª—è—Ö –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–µ–≥–æ-–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

    Returns:
    --------
    capacity : int ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —î–º–Ω—ñ—Å—Ç—å —É –±—ñ—Ç–∞—Ö
    used : int ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ –±—ñ—Ç—ñ–≤
    """
    # –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    img = Image.open(image_path)
    img_array = np.array(img, dtype=np.uint8)

    # –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É –±—ñ—Ç–∏
    message_binary = text_to_binary(message)

    # –î–æ–¥–∞—î–º–æ 32-–±—ñ—Ç–Ω–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑ –¥–æ–≤–∂–∏–Ω–æ—é –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    message_length = len(message_binary)
    length_header = format(message_length, '032b')
    full_payload = length_header + message_binary

    # –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —î–º–Ω—ñ—Å—Ç—å
    if len(img_array.shape) == 3:
        h, w, c = img_array.shape
        capacity = h * w * c
    else:
        h, w = img_array.shape
        capacity = h * w

    if len(full_payload) > capacity:
        raise ValueError(
            f"–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–∞–Ω–∞–¥—Ç–æ –¥–æ–≤–≥–µ! "
            f"–ü–æ—Ç—Ä—ñ–±–Ω–æ: {len(full_payload)} –±—ñ—Ç, –¥–æ—Å—Ç—É–ø–Ω–æ: {capacity} –±—ñ—Ç"
        )

    # –í–±—É–¥–æ–≤—É—î–º–æ –±—ñ—Ç–∏ —É LSB
    flat = img_array.flatten()
    for i, bit in enumerate(full_payload):
        flat[i] = (flat[i] & 0xFE) | int(bit)

    # –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    stego_array = flat.reshape(img_array.shape)
    stego_img = Image.fromarray(stego_array)
    stego_img.save(output_path)

    print(f"‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤–±—É–¥–æ–≤–∞–Ω–æ!")
    print(f"   –Ñ–º–Ω—ñ—Å—Ç—å: {capacity} –±—ñ—Ç ({capacity // 8} –±–∞–π—Ç)")
    print(f"   –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ: {len(full_payload)} –±—ñ—Ç ({len(full_payload) / capacity:.2%})")

    return capacity, len(full_payload)

# –¢–µ—Å—Ç—É—î–º–æ
# lsb_encode("original.png", "–ü—Ä–∏–≤—ñ—Ç, —Ü–µ —Å–µ–∫—Ä–µ—Ç–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è!", "stego.png")</code></pre>

            <h4>LSB Decoder (–≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è):</h4>
            <pre class="python"><code>def lsb_decode(image_path):
    """
    –í–∏—Ç—è–≥—É—î –ø—Ä–∏—Ö–æ–≤–∞–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —ñ–∑ —Å—Ç–µ–≥–æ-–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è.

    Parameters:
    -----------
    image_path : str ‚Äî —à–ª—è—Ö –¥–æ —Å—Ç–µ–≥–æ-–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

    Returns:
    --------
    message : str ‚Äî –≤–∏—Ç—è–≥–Ω—É—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    """
    # –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    img = Image.open(image_path)
    img_array = np.array(img, dtype=np.uint8)
    flat = img_array.flatten()

    # –í–∏—Ç—è–≥—É—î–º–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ (32 –±—ñ—Ç–∏ = –¥–æ–≤–∂–∏–Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è)
    header_bits = ''.join(str(flat[i] & 1) for i in range(32))
    message_length = int(header_bits, 2)

    print(f"üìñ –î–æ–≤–∂–∏–Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {message_length} –±—ñ—Ç")

    if message_length <= 0 or message_length > len(flat) - 32:
        return "[–ü–æ–º–∏–ª–∫–∞: –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è]"

    # –í–∏—Ç—è–≥—É—î–º–æ –±—ñ—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    message_bits = ''.join(str(flat[32 + i] & 1) for i in range(message_length))

    # –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î–º–æ —É —Ç–µ–∫—Å—Ç
    message = binary_to_text(message_bits)
    return message

# –¢–µ—Å—Ç—É—î–º–æ
# extracted = lsb_decode("stego.png")
# print(f"–í–∏—Ç—è–≥–Ω—É—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {extracted}")</code></pre>

            <h4>–ü–æ–≤–Ω–∏–π —Ç–µ—Å—Ç:</h4>
            <pre class="python"><code>def test_basic_lsb():
    """–ü–æ–≤–Ω–∏–π —Ç–µ—Å—Ç –±–∞–∑–æ–≤–æ–≥–æ LSB: –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è ‚Üí –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è"""
    # –°—Ç–≤–æ—Ä—é—î–º–æ —Ç–µ—Å—Ç–æ–≤–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (–∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Å–≤–æ—î)
    test_image = np.random.randint(50, 200, (256, 256, 3), dtype=np.uint8)
    Image.fromarray(test_image).save("test_original.png")

    # –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    message = "–ü—Ä–∏–≤—ñ—Ç! –¶–µ —Å–µ–∫—Ä–µ—Ç–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –≤–±—É–¥–æ–≤–∞–Ω–µ –º–µ—Ç–æ–¥–æ–º LSB."
    print(f"–û—Ä–∏–≥—ñ–Ω–∞–ª: '{message}'")

    # –í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è
    lsb_encode("test_original.png", message, "test_stego.png")

    # –í–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è
    extracted = lsb_decode("test_stego.png")
    print(f"–í–∏—Ç—è–≥–Ω—É—Ç–æ: '{extracted}'")

    # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
    if extracted == message:
        print("\n‚úÖ –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω–æ! –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Å–ø—ñ–≤–ø–∞–¥–∞—é—Ç—å.")
    else:
        print("\n‚ùå –¢–µ—Å—Ç –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–æ! –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è.")

    # –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è
    original = np.array(Image.open("test_original.png"))
    stego = np.array(Image.open("test_stego.png"))

    fig, axes = plt.subplots(1, 3, figsize=(15, 5))

    axes[0].imshow(original)
    axes[0].set_title("–û—Ä–∏–≥—ñ–Ω–∞–ª")
    axes[0].axis('off')

    axes[1].imshow(stego)
    axes[1].set_title("–°—Ç–µ–≥–æ-–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è")
    axes[1].axis('off')

    # –†—ñ–∑–Ω–∏—Ü—è (–ø—ñ–¥—Å–∏–ª–µ–Ω–∞)
    diff = np.abs(original.astype(int) - stego.astype(int))
    axes[2].imshow(diff * 50, cmap='hot')
    axes[2].set_title("–†—ñ–∑–Ω–∏—Ü—è (√ó50)")
    axes[2].axis('off')

    plt.tight_layout()
    plt.show()

test_basic_lsb()</code></pre>

            <div class="result-box">
                <h4>‚úÖ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                <ul>
                    <li>–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–µ–∫—Ç–Ω–æ –≤–∏—Ç—è–≥—É—î—Ç—å—Å—è –∑ —Å—Ç–µ–≥–æ-–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</li>
                    <li>–í—ñ–∑—É–∞–ª—å–Ω–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª —Ç–∞ —Å—Ç–µ–≥–æ-–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –Ω–µ—Ä–æ–∑—Ä—ñ–∑–Ω—é–≤–∞–Ω—ñ</li>
                    <li>–ù–∞ –∫–∞—Ä—Ç—ñ —Ä—ñ–∑–Ω–∏—Ü—ñ –≤–∏–¥–Ω–æ –ª–∏—à–µ –∑–æ–Ω–∏ –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è (–ø–æ—á–∞—Ç–æ–∫ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è)</li>
                </ul>
            </div>
        </div>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 2 -->
        <div class="task-box">
            <h3><span class="step-number">2</span>LSB –∑ —Å–µ–∫—Ä–µ—Ç–Ω–∏–º –∫–ª—é—á–µ–º (Key-based LSB)</h3>

            <h4>–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫–ª—é—á–∞:</h4>
            <pre class="python"><code>import hashlib

def generate_permutation(key, size):
    """
    –ì–µ–Ω–µ—Ä—É—î –ø—Å–µ–≤–¥–æ–≤–∏–ø–∞–¥–∫–æ–≤—É –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫—É —ñ–Ω–¥–µ–∫—Å—ñ–≤ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫–ª—é—á–∞.

    Parameters:
    -----------
    key : str ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á
    size : int ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å —ñ–Ω–¥–µ–∫—Å—ñ–≤

    Returns:
    --------
    permutation : numpy array ‚Äî –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ —ñ–Ω–¥–µ–∫—Å—ñ–≤
    """
    # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ö–µ—à –∫–ª—é—á–∞ —è–∫ seed –¥–ª—è PRNG
    seed = int(hashlib.sha256(key.encode()).hexdigest(), 16) % (2**32)
    rng = np.random.RandomState(seed)

    # –ì–µ–Ω–µ—Ä—É—î–º–æ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫—É
    permutation = np.arange(size)
    rng.shuffle(permutation)

    return permutation</code></pre>

            <h4>Key-based LSB Encoder:</h4>
            <pre class="python"><code>def lsb_encode_keyed(image_path, message, key, output_path):
    """
    –í–±—É–¥–æ–≤—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞.
    –ü–æ–∑–∏—Ü—ñ—ó –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è –≤–∏–∑–Ω–∞—á–∞—é—Ç—å—Å—è PRNG(key).

    Parameters:
    -----------
    image_path : str ‚Äî —à–ª—è—Ö –¥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    message : str ‚Äî –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    key : str ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á
    output_path : str ‚Äî —à–ª—è—Ö –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
    """
    img = Image.open(image_path)
    img_array = np.array(img, dtype=np.uint8)
    flat = img_array.flatten()

    # –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ payload
    message_binary = text_to_binary(message)
    length_header = format(len(message_binary), '032b')
    full_payload = length_header + message_binary

    # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —î–º–Ω–æ—Å—Ç—ñ
    if len(full_payload) > len(flat):
        raise ValueError("–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–∞–Ω–∞–¥—Ç–æ –¥–æ–≤–≥–µ!")

    # –ì–µ–Ω–µ—Ä—É—î–º–æ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫—É
    permutation = generate_permutation(key, len(flat))

    # –í–±—É–¥–æ–≤—É—î–º–æ —É –ø—Å–µ–≤–¥–æ–≤–∏–ø–∞–¥–∫–æ–≤–æ–º—É –ø–æ—Ä—è–¥–∫—É
    for i, bit in enumerate(full_payload):
        pos = permutation[i]
        flat[pos] = (flat[pos] & 0xFE) | int(bit)

    # –ó–±–µ—Ä—ñ–≥–∞—î–º–æ
    stego_array = flat.reshape(img_array.shape)
    Image.fromarray(stego_array).save(output_path)

    print(f"üîë –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤–±—É–¥–æ–≤–∞–Ω–æ –∑ –∫–ª—é—á–µ–º!")
    print(f"   –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ –ø–æ–∑–∏—Ü—ñ–π: {len(full_payload)} –∑ {len(flat)}")

    return len(full_payload)</code></pre>

            <h4>Key-based LSB Decoder:</h4>
            <pre class="python"><code>def lsb_decode_keyed(image_path, key):
    """
    –í–∏—Ç—è–≥—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞.

    Parameters:
    -----------
    image_path : str ‚Äî —à–ª—è—Ö –¥–æ —Å—Ç–µ–≥–æ-–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    key : str ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á (–ø–æ–≤–∏–Ω–µ–Ω –∑–±—ñ–≥–∞—Ç–∏—Å—è –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–º –ø—Ä–∏ –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—ñ)

    Returns:
    --------
    message : str ‚Äî –≤–∏—Ç—è–≥–Ω—É—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    """
    img = Image.open(image_path)
    img_array = np.array(img, dtype=np.uint8)
    flat = img_array.flatten()

    # –ì–µ–Ω–µ—Ä—É—î–º–æ —Ç—É –∂ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫—É
    permutation = generate_permutation(key, len(flat))

    # –í–∏—Ç—è–≥—É—î–º–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫
    header_bits = ''.join(str(flat[permutation[i]] & 1) for i in range(32))
    message_length = int(header_bits, 2)

    if message_length <= 0 or message_length > len(flat) - 32:
        return "[–ü–æ–º–∏–ª–∫–∞: –Ω–µ–≤—ñ—Ä–Ω–∏–π –∫–ª—é—á –∞–±–æ –ø–æ—à–∫–æ–¥–∂–µ–Ω—ñ –¥–∞–Ω—ñ]"

    # –í–∏—Ç—è–≥—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    message_bits = ''.join(
        str(flat[permutation[32 + i]] & 1) for i in range(message_length)
    )

    return binary_to_text(message_bits)</code></pre>

            <h4>–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è:</h4>
            <pre class="python"><code>def test_keyed_lsb():
    """–¢–µ—Å—Ç key-based LSB: –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ç–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –∫–ª—é—á"""
    # –°—Ç–≤–æ—Ä—é—î–º–æ —Ç–µ—Å—Ç–æ–≤–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    test_image = np.random.randint(50, 200, (256, 256, 3), dtype=np.uint8)
    Image.fromarray(test_image).save("test_original.png")

    message = "–¶–µ–π —Ç–µ–∫—Å—Ç –∑–∞—Ö–∏—â–µ–Ω–∏–π –∫–ª—é—á–µ–º!"
    correct_key = "my_secret_key_2026"
    wrong_key = "wrong_key"

    # –í–±—É–¥–æ–≤—É—î–º–æ –∑ –∫–ª—é—á–µ–º
    lsb_encode_keyed("test_original.png", message, correct_key, "test_keyed.png")

    # –í–∏—Ç—è–≥—É—î–º–æ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º –∫–ª—é—á–µ–º
    result_correct = lsb_decode_keyed("test_keyed.png", correct_key)
    print(f"\nüîë –ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –∫–ª—é—á: '{result_correct}'")

    # –í–∏—Ç—è–≥—É—î–º–æ –∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–º –∫–ª—é—á–µ–º
    result_wrong = lsb_decode_keyed("test_keyed.png", wrong_key)
    print(f"üîí –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –∫–ª—é—á: '{result_wrong}'")

    # –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ä–æ–∑–ø–æ–¥—ñ–ª—É –∑–º—ñ–Ω: –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π vs key-based
    original = np.array(Image.open("test_original.png"))
    lsb_encode("test_original.png", message, "test_sequential.png")
    sequential = np.array(Image.open("test_sequential.png"))
    keyed = np.array(Image.open("test_keyed.png"))

    fig, axes = plt.subplots(1, 3, figsize=(15, 5))

    diff_seq = np.any(original != sequential, axis=2).astype(float)
    diff_key = np.any(original != keyed, axis=2).astype(float)

    axes[0].imshow(original)
    axes[0].set_title("–û—Ä–∏–≥—ñ–Ω–∞–ª")
    axes[0].axis('off')

    axes[1].imshow(diff_seq, cmap='Reds')
    axes[1].set_title("–ü–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π LSB\n(–∑–º—ñ–Ω–∏ –∑–≤–µ—Ä—Ö—É)")
    axes[1].axis('off')

    axes[2].imshow(diff_key, cmap='Reds')
    axes[2].set_title("Key-based LSB\n(–∑–º—ñ–Ω–∏ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω—ñ)")
    axes[2].axis('off')

    plt.tight_layout()
    plt.show()

test_keyed_lsb()</code></pre>

            <div class="result-box">
                <h4>‚úÖ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                <ul>
                    <li>–ó –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º –∫–ª—é—á–µ–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤–∏—Ç—è–≥—É—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ</li>
                    <li>–ó –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–º –∫–ª—é—á–µ–º ‚Äî –Ω–µ—á–∏—Ç–∞–±–µ–ª—å–Ω–∏–π —Ç–µ–∫—Å—Ç –∞–±–æ –ø–æ–º–∏–ª–∫–∞</li>
                    <li>–ù–∞ –∫–∞—Ä—Ç—ñ –∑–º—ñ–Ω: –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π LSB ‚Äî –±–ª–æ–∫ –∑–≤–µ—Ä—Ö—É, key-based ‚Äî —Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–∏–π —à—É–º</li>
                </ul>
            </div>
        </div>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 3 -->
        <div class="task-box">
            <h3><span class="step-number">3</span>–ú–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ: PSNR —Ç–∞ SSIM</h3>

            <h4>–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è PSNR:</h4>
            <pre class="python"><code>def calculate_mse(original, modified):
    """–û–±—á–∏—Å–ª—é—î —Å–µ—Ä–µ–¥–Ω—å–æ–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω—É –ø–æ–º–∏–ª–∫—É (MSE)"""
    return np.mean((original.astype(float) - modified.astype(float)) ** 2)

def calculate_psnr(original, modified):
    """
    –û–±—á–∏—Å–ª—é—î PSNR –º—ñ–∂ –æ—Ä–∏–≥—ñ–Ω–∞–ª–æ–º —Ç–∞ –º–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–º –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º.

    Parameters:
    -----------
    original : numpy array ‚Äî –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    modified : numpy array ‚Äî –º–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

    Returns:
    --------
    psnr : float ‚Äî –∑–Ω–∞—á–µ–Ω–Ω—è PSNR —É –¥–ë
    """
    mse = calculate_mse(original, modified)
    if mse == 0:
        return float('inf')  # –Ü–¥–µ–Ω—Ç–∏—á–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

    max_pixel = 255.0
    psnr = 10 * np.log10(max_pixel ** 2 / mse)
    return psnr</code></pre>

            <h4>–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è SSIM:</h4>
            <pre class="python"><code>def calculate_ssim(original, modified, window_size=11):
    """
    –û–±—á–∏—Å–ª—é—î SSIM –º—ñ–∂ –¥–≤–æ–º–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º–∏.

    Parameters:
    -----------
    original : numpy array ‚Äî –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (grayscale)
    modified : numpy array ‚Äî –º–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (grayscale)
    window_size : int ‚Äî —Ä–æ–∑–º—ñ—Ä –≤—ñ–∫–Ω–∞ –¥–ª—è –æ–±—á–∏—Å–ª–µ–Ω–Ω—è

    Returns:
    --------
    ssim : float ‚Äî –∑–Ω–∞—á–µ–Ω–Ω—è SSIM (–≤—ñ–¥ -1 –¥–æ 1)
    """
    C1 = (0.01 * 255) ** 2  # –°—Ç–∞–±—ñ–ª—ñ–∑—É—é—á–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞
    C2 = (0.03 * 255) ** 2

    orig = original.astype(float)
    mod = modified.astype(float)

    # –ö–æ–≤–∑–Ω–µ —Å–µ—Ä–µ–¥–Ω—î (—Å–ø—Ä–æ—â–µ–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –±–µ–∑ –≥–∞—É—Å–æ–≤–æ–≥–æ —è–¥—Ä–∞)
    from scipy.ndimage import uniform_filter

    mu_orig = uniform_filter(orig, window_size)
    mu_mod = uniform_filter(mod, window_size)

    sigma_orig_sq = uniform_filter(orig ** 2, window_size) - mu_orig ** 2
    sigma_mod_sq = uniform_filter(mod ** 2, window_size) - mu_mod ** 2
    sigma_cross = uniform_filter(orig * mod, window_size) - mu_orig * mu_mod

    # SSIM —Ñ–æ—Ä–º—É–ª–∞
    numerator = (2 * mu_orig * mu_mod + C1) * (2 * sigma_cross + C2)
    denominator = (mu_orig ** 2 + mu_mod ** 2 + C1) * (sigma_orig_sq + sigma_mod_sq + C2)

    ssim_map = numerator / denominator
    return np.mean(ssim_map)</code></pre>

            <h4>–ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ —è–∫–æ—Å—Ç—ñ:</h4>
            <pre class="python"><code>def analyze_quality(image_path, payloads):
    """
    –ê–Ω–∞–ª—ñ–∑—É—î —è–∫—ñ—Å—Ç—å —Å—Ç–µ–≥–æ-–∑–æ–±—Ä–∞–∂–µ–Ω—å –ø—Ä–∏ —Ä—ñ–∑–Ω–∏—Ö –æ–±'—î–º–∞—Ö –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è.

    Parameters:
    -----------
    image_path : str ‚Äî —à–ª—è—Ö –¥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    payloads : list ‚Äî —Å–ø–∏—Å–æ–∫ –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è (0.01, 0.1, 0.25, 0.5, 1.0)
    """
    original = np.array(Image.open(image_path))

    if len(original.shape) == 3:
        capacity = original.shape[0] * original.shape[1] * original.shape[2]
    else:
        capacity = original.shape[0] * original.shape[1]

    results = []

    for payload_ratio in payloads:
        # –ì–µ–Ω–µ—Ä—É—î–º–æ –≤–∏–ø–∞–¥–∫–æ–≤—ñ –±—ñ—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É
        num_bits = int(capacity * payload_ratio)
        random_bits = np.random.randint(0, 2, num_bits)

        # –í–±—É–¥–æ–≤—É—î–º–æ
        flat = original.flatten().copy()
        for i in range(num_bits):
            flat[i] = (flat[i] & 0xFE) | random_bits[i]
        stego = flat.reshape(original.shape)

        # –û–±—á–∏—Å–ª—é—î–º–æ –º–µ—Ç—Ä–∏–∫–∏
        psnr = calculate_psnr(original, stego)

        # SSIM –¥–ª—è grayscale
        if len(original.shape) == 3:
            from PIL import Image as PILImage
            orig_gray = np.array(PILImage.fromarray(original).convert('L'))
            stego_gray = np.array(PILImage.fromarray(stego.astype(np.uint8)).convert('L'))
        else:
            orig_gray = original
            stego_gray = stego

        ssim = calculate_ssim(orig_gray, stego_gray)

        results.append({
            'payload': payload_ratio,
            'bits': num_bits,
            'psnr': psnr,
            'ssim': ssim
        })

        print(f"Payload {payload_ratio:6.1%}: PSNR = {psnr:.2f} –¥–ë, SSIM = {ssim:.6f}")

    return results

def plot_quality_metrics(results):
    """–í—ñ–∑—É–∞–ª—ñ–∑—É—î –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å —è–∫–æ—Å—Ç—ñ –≤—ñ–¥ –æ–±'—î–º—É payload"""
    payloads = [r['payload'] * 100 for r in results]
    psnrs = [r['psnr'] for r in results]
    ssims = [r['ssim'] for r in results]

    fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(14, 5))

    # PSNR
    ax1.plot(payloads, psnrs, 'b-o', linewidth=2, markersize=8)
    ax1.axhline(y=40, color='g', linestyle='--', alpha=0.5, label='–í—ñ–¥–º—ñ–Ω–Ω–∞ —è–∫—ñ—Å—Ç—å (40 –¥–ë)')
    ax1.axhline(y=30, color='orange', linestyle='--', alpha=0.5, label='–•–æ—Ä–æ—à–∞ —è–∫—ñ—Å—Ç—å (30 –¥–ë)')
    ax1.set_xlabel('Payload (%)')
    ax1.set_ylabel('PSNR (–¥–ë)')
    ax1.set_title('PSNR vs Payload')
    ax1.legend()
    ax1.grid(True, alpha=0.3)

    # SSIM
    ax2.plot(payloads, ssims, 'r-o', linewidth=2, markersize=8)
    ax2.axhline(y=0.99, color='g', linestyle='--', alpha=0.5, label='–ù–µ–ø–æ–º—ñ—Ç–Ω–æ (0.99)')
    ax2.axhline(y=0.95, color='orange', linestyle='--', alpha=0.5, label='–•–æ—Ä–æ—à–∞ —è–∫—ñ—Å—Ç—å (0.95)')
    ax2.set_xlabel('Payload (%)')
    ax2.set_ylabel('SSIM')
    ax2.set_title('SSIM vs Payload')
    ax2.legend()
    ax2.grid(True, alpha=0.3)

    plt.tight_layout()
    plt.show()

# –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª—ñ–∑—É
# –°—Ç–≤–æ—Ä—é—î–º–æ –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ä–µ–∞–ª—å–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
test_img = np.random.randint(0, 256, (512, 512, 3), dtype=np.uint8)
Image.fromarray(test_img).save("quality_test.png")

payloads = [0.01, 0.05, 0.1, 0.25, 0.5, 0.75, 1.0]
results = analyze_quality("quality_test.png", payloads)
plot_quality_metrics(results)</code></pre>

            <div class="result-box">
                <h4>‚úÖ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                <ul>
                    <li>–ü—Ä–∏ 1% payload: PSNR ‚âà 65‚Äì70 –¥–ë, SSIM ‚âà 0.9999</li>
                    <li>–ü—Ä–∏ 100% payload: PSNR ‚âà 51 –¥–ë, SSIM ‚âà 0.99</li>
                    <li>PSNR –∑–º–µ–Ω—à—É—î—Ç—å—Å—è –ª–æ–≥–∞—Ä–∏—Ñ–º—ñ—á–Ω–æ –∑—ñ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è–º payload</li>
                    <li>LSB —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—è –∑–∞–±–µ–∑–ø–µ—á—É—î –≤–∏—Å–æ–∫—É —è–∫—ñ—Å—Ç—å –Ω–∞–≤—ñ—Ç—å –ø—Ä–∏ –ø–æ–≤–Ω–æ–º—É –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—ñ</li>
                </ul>
            </div>
        </div>

        <!-- –ó–∞–≤–¥–∞–Ω–Ω—è 4 -->
        <div class="task-box">
            <h3><span class="step-number">4</span>–ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –º–µ—Ç–æ–¥—ñ–≤</h3>

            <h4>–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ–≥–æ —Ç–∞ key-based LSB:</h4>
            <pre class="python"><code>def compare_methods(image_path, message, key):
    """
    –ü–æ—Ä—ñ–≤–Ω—é—î –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π —ñ key-based LSB –∑–∞ —Ä—ñ–∑–Ω–∏–º–∏ –∫—Ä–∏—Ç–µ—Ä—ñ—è–º–∏.

    Parameters:
    -----------
    image_path : str ‚Äî —à–ª—è—Ö –¥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    message : str ‚Äî –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è
    key : str ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á –¥–ª—è key-based –º–µ—Ç–æ–¥—É
    """
    original = np.array(Image.open(image_path))

    # –ü–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π LSB
    lsb_encode(image_path, message, "compare_sequential.png")
    sequential = np.array(Image.open("compare_sequential.png"))

    # Key-based LSB
    lsb_encode_keyed(image_path, message, key, "compare_keyed.png")
    keyed = np.array(Image.open("compare_keyed.png"))

    # –ú–µ—Ç—Ä–∏–∫–∏
    psnr_seq = calculate_psnr(original, sequential)
    psnr_key = calculate_psnr(original, keyed)

    if len(original.shape) == 3:
        orig_gray = np.array(Image.fromarray(original).convert('L'))
        seq_gray = np.array(Image.fromarray(sequential).convert('L'))
        key_gray = np.array(Image.fromarray(keyed.astype(np.uint8)).convert('L'))
    else:
        orig_gray, seq_gray, key_gray = original, sequential, keyed

    ssim_seq = calculate_ssim(orig_gray, seq_gray)
    ssim_key = calculate_ssim(orig_gray, key_gray)

    # –ê–Ω–∞–ª—ñ–∑ —Ä–æ–∑–ø–æ–¥—ñ–ª—É –∑–º—ñ–Ω–µ–Ω–∏—Ö –ø—ñ–∫—Å–µ–ª—ñ–≤
    diff_seq = (original != sequential).any(axis=2) if len(original.shape) == 3 else (original != sequential)
    diff_key = (original != keyed).any(axis=2) if len(original.shape) == 3 else (original != keyed)

    print("=" * 55)
    print(f"{'–ú–µ—Ç—Ä–∏–∫–∞':<25} {'–ü–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π':>12} {'Key-based':>12}")
    print("=" * 55)
    print(f"{'PSNR (–¥–ë)':<25} {psnr_seq:>12.2f} {psnr_key:>12.2f}")
    print(f"{'SSIM':<25} {ssim_seq:>12.6f} {ssim_key:>12.6f}")
    print(f"{'–ó–º—ñ–Ω–µ–Ω–∏—Ö –ø—ñ–∫—Å–µ–ª—ñ–≤':<25} {diff_seq.sum():>12} {diff_key.sum():>12}")
    print("=" * 55)

    # –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è
    fig, axes = plt.subplots(2, 3, figsize=(15, 10))

    axes[0][0].imshow(original)
    axes[0][0].set_title("–û—Ä–∏–≥—ñ–Ω–∞–ª")
    axes[0][0].axis('off')

    axes[0][1].imshow(sequential)
    axes[0][1].set_title(f"–ü–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π LSB\nPSNR={psnr_seq:.1f} –¥–ë")
    axes[0][1].axis('off')

    axes[0][2].imshow(keyed)
    axes[0][2].set_title(f"Key-based LSB\nPSNR={psnr_key:.1f} –¥–ë")
    axes[0][2].axis('off')

    # LSB –ø–ª–æ—â–∏–Ω–∏
    axes[1][0].imshow((original.flatten() & 1).reshape(original.shape[:2], -1)[:,:,0] * 255, cmap='gray')
    axes[1][0].set_title("LSB –ø–ª–æ—â–∏–Ω–∞: –æ—Ä–∏–≥—ñ–Ω–∞–ª")
    axes[1][0].axis('off')

    axes[1][1].imshow(diff_seq.astype(float), cmap='Reds')
    axes[1][1].set_title("–ö–∞—Ä—Ç–∞ –∑–º—ñ–Ω: –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π")
    axes[1][1].axis('off')

    axes[1][2].imshow(diff_key.astype(float), cmap='Reds')
    axes[1][2].set_title("–ö–∞—Ä—Ç–∞ –∑–º—ñ–Ω: key-based")
    axes[1][2].axis('off')

    plt.tight_layout()
    plt.show()

# –¢–µ—Å—Ç
test_img = np.random.randint(0, 256, (256, 256, 3), dtype=np.uint8)
Image.fromarray(test_img).save("compare_original.png")

compare_methods(
    "compare_original.png",
    "–ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –¥–≤–æ—Ö –º–µ—Ç–æ–¥—ñ–≤ LSB —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó!",
    "secret_key_2026"
)</code></pre>

            <div class="result-box">
                <h4>‚úÖ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h4>
                <ul>
                    <li>PSNR –æ–±–æ—Ö –º–µ—Ç–æ–¥—ñ–≤ ‚Äî –æ–¥–Ω–∞–∫–æ–≤–∏–π (–æ–±–∏–¥–≤–∞ –∑–º—ñ–Ω—é—é—Ç—å LSB)</li>
                    <li>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑–º—ñ–Ω–µ–Ω–∏—Ö –ø—ñ–∫—Å–µ–ª—ñ–≤ ‚Äî –æ–¥–Ω–∞–∫–æ–≤–∞</li>
                    <li>–†—ñ–∑–Ω–∏—Ü—è ‚Äî —É —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—ñ: –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π ‚Üí –∫–æ–º–ø–∞–∫—Ç–Ω–∏–π –±–ª–æ–∫, key-based ‚Üí —Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–æ</li>
                    <li>Key-based LSB –∫—Ä–∞—â–µ –ø—Ä–æ—Ç–∏—Å—Ç–æ—ó—Ç—å –≤—ñ–∑—É–∞–ª—å–Ω–æ–º—É —Å—Ç–µ–≥–∞–Ω–æ–∞–Ω–∞–ª—ñ–∑—É</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- –î–æ–¥–∞—Ç–∫–æ–≤—ñ –∑–∞–≤–¥–∞–Ω–Ω—è -->
    <section>
        <h2>üéØ –î–æ–¥–∞—Ç–∫–æ–≤—ñ –∑–∞–≤–¥–∞–Ω–Ω—è</h2>

        <div class="analysis-grid">
            <div class="analysis-card">
                <h4>üî¢ –ó–∞–≤–¥–∞–Ω–Ω—è 1: Multi-bit LSB</h4>
                <p>–†–µ–∞–ª—ñ–∑—É–π—Ç–µ –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è —É 2, 3 —Ç–∞ 4 –º–æ–ª–æ–¥—à–∏—Ö –±—ñ—Ç–∏. –ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ —î–º–Ω—ñ—Å—Ç—å —Ç–∞ PSNR. –ü—Ä–∏ —Å–∫—ñ–ª—å–∫–æ—Ö –±—ñ—Ç–∞—Ö –∑–º—ñ–Ω–∏ —Å—Ç–∞—é—Ç—å –ø–æ–º—ñ—Ç–Ω–∏–º–∏?</p>
            </div>

            <div class="analysis-card">
                <h4>üé® –ó–∞–≤–¥–∞–Ω–Ω—è 2: –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∫–∞–Ω–∞–ª—ñ–≤</h4>
                <p>–í–±—É–¥–æ–≤—É–π—Ç–µ —Ç—ñ–ª—å–∫–∏ –≤ R, —Ç—ñ–ª—å–∫–∏ –≤ G, —Ç—ñ–ª—å–∫–∏ –≤ B –∫–∞–Ω–∞–ª. –ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ PSNR —Ç–∞ –≤—ñ–∑—É–∞–ª—å–Ω—É –Ω–µ–ø–æ–º—ñ—Ç–Ω—ñ—Å—Ç—å. –Ø–∫–∏–π –∫–∞–Ω–∞–ª –Ω–∞–π–∫—Ä–∞—â–∏–π?</p>
            </div>

            <div class="analysis-card">
                <h4>üìè –ó–∞–≤–¥–∞–Ω–Ω—è 3: –ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π LSB</h4>
                <p>–†–µ–∞–ª—ñ–∑—É–π—Ç–µ LSB, —â–æ –≤–±—É–¥–æ–≤—É—î –ª–∏—à–µ —É —Ç–µ–∫—Å—Ç—É—Ä–Ω—ñ (—Å–∫–ª–∞–¥–Ω—ñ) –¥—ñ–ª—è–Ω–∫–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, —É–Ω–∏–∫–∞—é—á–∏ –æ–¥–Ω–æ—Ç–æ–Ω–Ω–∏—Ö –∑–æ–Ω. –û–±—á–∏—Å–ª—ñ—Ç—å –ª–æ–∫–∞–ª—å–Ω—É –¥–∏—Å–ø–µ—Ä—Å—ñ—é.</p>
            </div>

            <div class="analysis-card">
                <h4>üìä –ó–∞–≤–¥–∞–Ω–Ω—è 4: –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –±—ñ—Ç–æ–≤–∏—Ö –ø–ª–æ—â–∏–Ω</h4>
                <p>–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é, —â–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –≤—Å—ñ 8 –±—ñ—Ç–æ–≤–∏—Ö –ø–ª–æ—â–∏–Ω –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–∞ —Å—Ç–µ–≥–æ-–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è. –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π—Ç–µ –≤—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ.</p>
            </div>
        </div>
    </section>

    <!-- –ó–≤—ñ—Ç –ø—Ä–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è -->
    <section class="submission-section">
        <h2>üìù –ó–≤—ñ—Ç –ø—Ä–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–∞ —Ñ–æ—Ä–º–∞—Ç –∑–¥–∞—á—ñ</h2>

        <div class="submission-grid">
            <div class="submission-card">
                <h3>üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–≤—ñ—Ç—É</h3>
                <ul>
                    <li>–¢–∏—Ç—É–ª—å–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ –¥–∞–Ω–∏–º–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞</li>
                    <li>–ú–µ—Ç–∞ —Ç–∞ –∑–∞–≤–¥–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏</li>
                    <li>–¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ (–∫–æ—Ä–æ—Ç–∫–æ)</li>
                    <li>–•—ñ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏</li>
                    <li>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–∞ —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏</li>
                    <li>–ê–Ω–∞–ª—ñ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤</li>
                    <li>–í–∏—Å–Ω–æ–≤–∫–∏</li>
                    <li>–î–æ–¥–∞—Ç–∫–∏ (–ø–æ–≤–Ω–∏–π –∫–æ–¥)</li>
                </ul>
            </div>

            <div class="submission-card">
                <h3>üíæ –§–∞–π–ª–∏ –¥–ª—è –∑–¥–∞—á—ñ</h3>
                <ul>
                    <li><span class="file-format">report.pdf</span> ‚Äî –∑–≤—ñ—Ç —É —Ñ–æ—Ä–º–∞—Ç—ñ PDF</li>
                    <li><span class="file-format">lsb_stego.py</span> ‚Äî —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è LSB</li>
                    <li><span class="file-format">test_images/</span> ‚Äî —Ç–µ—Å—Ç–æ–≤—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</li>
                    <li><span class="file-format">results/</span> ‚Äî –≥—Ä–∞—Ñ—ñ–∫–∏ —Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏</li>
                    <li><span class="file-format">README.md</span> ‚Äî —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑–∞–ø—É—Å–∫—É</li>
                </ul>
            </div>

            <div class="submission-card">
                <h3>‚ö° –í–∏–º–æ–≥–∏ –¥–æ –∫–æ–¥—É</h3>
                <ul>
                    <li>–ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–æ –∫–æ–∂–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó</li>
                    <li>Docstrings —É —Ñ–æ—Ä–º–∞—Ç—ñ PEP 257</li>
                    <li>–û–±—Ä–æ–±–∫–∞ –≤–∏–Ω—è—Ç–∫—ñ–≤ (try/except)</li>
                    <li>–ú–æ–¥—É–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥—É</li>
                    <li>requirements.txt –∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏</li>
                </ul>
            </div>

            <div class="submission-card">
                <h3>üéØ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è</h3>
                <ul>
                    <li>–ó–∞–ø—É—Å–∫ –∫–æ–¥—É –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è—Ö</li>
                    <li>–í–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å</li>
                    <li>–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ–≥–æ —Ç–∞ key-based</li>
                    <li>–ì—Ä–∞—Ñ—ñ–∫–∏ PSNR/SSIM –ø—Ä–∏ —Ä—ñ–∑–Ω–∏—Ö payload</li>
                    <li>–í—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è –≤–∏–∫–ª–∞–¥–∞—á–∞</li>
                </ul>
            </div>
        </div>

        <div class="deadline-warning">
            <strong>‚è∞ –¢–µ—Ä–º—ñ–Ω –∑–¥–∞—á—ñ:</strong> –ü—Ä–æ—Ç—è–≥–æ–º –¥–≤–æ—Ö —Ç–∏–∂–Ω—ñ–≤ –ø—ñ—Å–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏.
            –ó–∞—Ç—Ä–∏–º–∫–∞ –∑–¥–∞—á—ñ –∑–Ω–∏–∂—É—î –æ—Ü—ñ–Ω–∫—É –Ω–∞ 10% –∑–∞ –∫–æ–∂–µ–Ω —Ç–∏–∂–¥–µ–Ω—å.
        </div>
    </section>

    <!-- –í–∏—Å–Ω–æ–≤–∫–∏ -->
    <section class="result-box">
        <h2>üéì –í–∏—Å–Ω–æ–≤–∫–∏</h2>
        <p>
            –£ —Ü—ñ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ñ–π —Ä–æ–±–æ—Ç—ñ –≤–∏ —Ä–µ–∞–ª—ñ–∑—É–≤–∞–ª–∏ —Ç–∞ –¥–æ—Å–ª—ñ–¥–∏–ª–∏ –æ—Å–Ω–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥ —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—ó –∑–æ–±—Ä–∞–∂–µ–Ω—å ‚Äî LSB:
        </p>
        <ul>
            <li><strong>–ë–∞–∑–æ–≤–∏–π LSB</strong> ‚Äî –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–µ –≤–±—É–¥–æ–≤—É–≤–∞–Ω–Ω—è –±—ñ—Ç—ñ–≤ —É –º–æ–ª–æ–¥—à—ñ –±—ñ—Ç–∏ –ø—ñ–∫—Å–µ–ª—ñ–≤</li>
            <li><strong>Key-based LSB</strong> ‚Äî —Ä–æ–∑–ø–æ–¥—ñ–ª –±—ñ—Ç—ñ–≤ –∑–∞ –ø—Å–µ–≤–¥–æ–≤–∏–ø–∞–¥–∫–æ–≤–æ—é –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–æ—é –∑ –∫–ª—é—á–µ–º</li>
            <li><strong>–ú–µ—Ç—Ä–∏–∫–∏ —è–∫–æ—Å—Ç—ñ</strong> ‚Äî PSNR (–æ–±'—î–∫—Ç–∏–≤–Ω–∞) —Ç–∞ SSIM (—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞) –æ—Ü—ñ–Ω–∫–∏ —Å–ø–æ—Ç–≤–æ—Ä–µ–Ω—å</li>
            <li><strong>–ê–Ω–∞–ª—ñ–∑</strong> ‚Äî –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å —è–∫–æ—Å—Ç—ñ –≤—ñ–¥ –æ–±'—î–º—É payload —Ç–∞ –ø–µ—Ä–µ–≤–∞–≥–∏ key-based –ø—ñ–¥—Ö–æ–¥—É</li>
        </ul>

        <div class="warning-box">
            <strong>‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ –ø–∞–º'—è—Ç–∞—Ç–∏:</strong>
            <ul>
                <li>LSB —Å—Ç–µ–≥–∞–Ω–æ–≥—Ä–∞—Ñ—ñ—è ‚Äî –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π, –∞–ª–µ –π –Ω–∞–π—É—Ä–∞–∑–ª–∏–≤—ñ—à–∏–π –º–µ—Ç–æ–¥</li>
                <li>–ü–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–π LSB –ª–µ–≥–∫–æ –≤–∏—è–≤–ª—è—î—Ç—å—Å—è –≤—ñ–∑—É–∞–ª—å–Ω–∏–º —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏–º –∞–Ω–∞–ª—ñ–∑–æ–º</li>
                <li>Key-based LSB –∑–Ω–∞—á–Ω–æ –ø—ñ–¥–≤–∏—â—É—î —Å—Ç—ñ–π–∫—ñ—Å—Ç—å –¥–æ –≤–∏—è–≤–ª–µ–Ω–Ω—è</li>
                <li>–§–æ—Ä–º–∞—Ç PNG –∑–±–µ—Ä—ñ–≥–∞—î LSB –±–µ–∑ –≤—Ç—Ä–∞—Ç, JPEG ‚Äî –Ω—ñ (LSB —Ä—É–π–Ω—É—î—Ç—å—Å—è –ø—Ä–∏ —Å—Ç–∏—Å–Ω–µ–Ω–Ω—ñ)</li>
            </ul>
        </div>
    </section>

    <!-- –ö–æ—Ä–∏—Å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏ -->
    <section>
        <h2>üìö –ö–æ—Ä–∏—Å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏</h2>

        <div class="resources-list">
            <ul>
                <li>üìñ <a href="https://docs.python.org/3/library/struct.html">Python struct ‚Äî —Ä–æ–±–æ—Ç–∞ –∑ –±—ñ–Ω–∞—Ä–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏</a></li>
                <li>üñºÔ∏è <a href="https://pillow.readthedocs.io/">Pillow ‚Äî –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –æ–±—Ä–æ–±–∫–∏ –∑–æ–±—Ä–∞–∂–µ–Ω—å</a></li>
                <li>üìä <a href="https://numpy.org/doc/stable/">NumPy ‚Äî —á–∏—Å–ª–æ–≤—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è</a></li>
                <li>üìà <a href="https://matplotlib.org/stable/">Matplotlib ‚Äî –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö</a></li>
                <li>üî¨ <a href="https://scikit-image.org/docs/stable/api/skimage.metrics.html">scikit-image metrics ‚Äî PSNR, SSIM</a></li>
            </ul>
        </div>
    </section>

    </article>

    <div class="lecture-nav-bottom">
      <span class="nav-btn disabled">&larr; –ü–æ–ø–µ—Ä–µ–¥–Ω—è</span>
      <a href="lab3.html" class="nav-btn">–ù–∞—Å—Ç—É–ø–Ω–∞ &rarr;</a>
    </div>

    <footer></footer>
  </main>

  <script src="../js/main.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</body>
</html>
