<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Алгоритми вбудовування | Лекція 5.2</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/slides.css">
</head>
<body>

<div class="slide-deck">


    <!-- Слайд 1: Титульний -->
    <section class="slide active title-slide">
        <h1>Алгоритми вбудовування</h1>
        <div class="subtitle">
            Тема 2: Послідовний, псевдовипадковий та багатобітовий LSB
        </div>
    </section>

    <!-- Слайд 2: Огляд алгоритмів -->
    <section class="slide">
        <h2>Типи алгоритмів LSB</h2>

        <div class="info-box">
            <p style="text-align: center; font-size: 1.2rem;">
                Різні стратегії вибору пікселів для вбудовування
            </p>
        </div>

        <div class="two-column">
            <div>
                <div class="algorithm-step">
                    <h4>1. Послідовний LSB</h4>
                    <p>Пікселі обходяться по черзі</p>
                </div>
                <div class="algorithm-step">
                    <h4>2. Псевдовипадковий LSB</h4>
                    <p>Позиції визначає PRNG з ключем</p>
                </div>
            </div>
            <div>
                <div class="algorithm-step">
                    <h4>3. k-бітовий LSB</h4>
                    <p>Змінюємо кілька молодших бітів</p>
                </div>
                <div class="algorithm-step">
                    <h4>4. LSB 3-3-2</h4>
                    <p>Різна кількість бітів по каналах</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Слайд 3: Послідовний LSB -->
    <section class="slide">
        <h2>Послідовний LSB (Sequential)</h2>

        <div class="info-box">
            <h4>Принцип роботи</h4>
            <p>Обхід пікселів зліва направо, зверху вниз</p>
        </div>

        <div class="pixel-grid cols-3">
            <div class="pixel-cell active">1</div>
            <div class="pixel-cell active">2</div>
            <div class="pixel-cell active">3</div>
            <div class="pixel-cell active">4</div>
            <div class="pixel-cell active">5</div>
            <div class="pixel-cell semi">6</div>
            <div class="pixel-cell faded">...</div>
            <div class="pixel-cell faded">...</div>
            <div class="pixel-cell faded">...</div>
        </div>

        <div class="warning-box">
            <h4>Недоліки</h4>
            <ul>
                <li>Передбачуваний паттерн — легко виявити</li>
                <li>Вразливий до Chi-Square атаки</li>
                <li>Різка межа між зміненою та незміненою частинами</li>
            </ul>
        </div>
    </section>

    <!-- Слайд 4: Код послідовного LSB -->
    <section class="slide">
        <h2>Код: Послідовний LSB</h2>

        <div class="code-block">
<span class="code-keyword">def</span> <span class="code-function">sequential_lsb_embed</span>(image, message):
    binary_msg = text_to_binary(message)
    msg_index = <span class="code-string">0</span>

    <span class="code-keyword">for</span> y <span class="code-keyword">in</span> range(height):
        <span class="code-keyword">for</span> x <span class="code-keyword">in</span> range(width):
            <span class="code-keyword">for</span> channel <span class="code-keyword">in</span> [R, G, B]:
                <span class="code-keyword">if</span> msg_index < len(binary_msg):
                    <span class="code-comment"># Замінюємо LSB</span>
                    pixel[channel] = (pixel[channel] & <span class="code-string">0xFE</span>) | int(binary_msg[msg_index])
                    msg_index += <span class="code-string">1</span>

    <span class="code-keyword">return</span> stego_image
        </div>

        <div class="info-box">
            <p><code>0xFE = 11111110</code> — маска для обнулення LSB</p>
            <p><code>| bit</code> — встановлення нового значення LSB</p>
        </div>
    </section>

    <!-- Слайд 5: Псевдовипадковий LSB -->
    <section class="slide">
        <h2>Псевдовипадковий LSB (Randomized)</h2>

        <div class="info-box">
            <h4>Принцип роботи</h4>
            <p>PRNG з секретним ключем визначає позиції вбудовування</p>
        </div>

        <div class="pixel-grid cols-3">
            <div class="pixel-cell faded">-</div>
            <div class="pixel-cell active">3</div>
            <div class="pixel-cell faded">-</div>
            <div class="pixel-cell active">1</div>
            <div class="pixel-cell faded">-</div>
            <div class="pixel-cell active">5</div>
            <div class="pixel-cell active">2</div>
            <div class="pixel-cell faded">-</div>
            <div class="pixel-cell active">4</div>
        </div>

        <div class="success-box">
            <h4>Переваги</h4>
            <ul>
                <li>Біти розподілені по всьому зображенню</li>
                <li>Потребує ключ для вилучення</li>
                <li>Ускладнює статистичний аналіз</li>
            </ul>
        </div>
    </section>

    <!-- Слайд 6: Код псевдовипадкового LSB -->
    <section class="slide">
        <h2>Код: Псевдовипадковий LSB</h2>

        <div class="code-block">
<span class="code-keyword">def</span> <span class="code-function">random_lsb_embed</span>(image, message, key):
    binary_msg = text_to_binary(message)
    random.seed(key)  <span class="code-comment"># Ініціалізація ключем</span>
    used_positions = set()

    <span class="code-keyword">for</span> bit <span class="code-keyword">in</span> binary_msg:
        <span class="code-keyword">while</span> True:
            x = random.randint(<span class="code-string">0</span>, width - <span class="code-string">1</span>)
            y = random.randint(<span class="code-string">0</span>, height - <span class="code-string">1</span>)
            c = random.randint(<span class="code-string">0</span>, <span class="code-string">2</span>)  <span class="code-comment"># RGB канал</span>

            <span class="code-keyword">if</span> (x, y, c) <span class="code-keyword">not in</span> used_positions:
                used_positions.add((x, y, c))
                <span class="code-keyword">break</span>

        pixel[y, x, c] = (pixel[y, x, c] & <span class="code-string">0xFE</span>) | int(bit)

    <span class="code-keyword">return</span> stego_image
        </div>
    </section>

    <!-- Слайд 7: Порівняння методів -->
    <section class="slide">
        <h2>Послідовний vs Випадковий</h2>

        <table class="comparison-table" style="margin: 1rem auto;">
            <tr>
                <th>Характеристика</th>
                <th>Послідовний</th>
                <th>Випадковий</th>
            </tr>
            <tr>
                <td>Складність</td>
                <td class="cell-green">Низька</td>
                <td class="cell-yellow">Середня</td>
            </tr>
            <tr>
                <td>Потреба в ключі</td>
                <td>Ні</td>
                <td class="cell-green">Так</td>
            </tr>
            <tr>
                <td>Стійкість до детекції</td>
                <td class="cell-red">Низька</td>
                <td class="cell-yellow">Середня</td>
            </tr>
            <tr>
                <td>Chi-Square атака</td>
                <td class="cell-red">Вразливий</td>
                <td class="cell-green">Стійкий</td>
            </tr>
            <tr>
                <td>Швидкість</td>
                <td class="cell-green">Висока</td>
                <td class="cell-yellow">Середня</td>
            </tr>
        </table>
    </section>

    <!-- Слайд 8: Багатобітовий LSB -->
    <section class="slide">
        <h2>Багатобітовий LSB (k-bit)</h2>

        <div class="info-box">
            <p style="text-align: center; font-size: 1.1rem;">
                Замість одного біта модифікуємо кілька молодших бітів
            </p>
        </div>

        <table class="comparison-table" style="margin: 1rem auto;">
            <tr>
                <th>Метод</th>
                <th>Біти</th>
                <th>Ємність (RGB)</th>
                <th>Макс. зміна</th>
                <th>PSNR</th>
            </tr>
            <tr>
                <td>1-bit LSB</td>
                <td>Біт 0</td>
                <td>3 bpp</td>
                <td>±1</td>
                <td>~51 dB</td>
            </tr>
            <tr>
                <td>2-bit LSB</td>
                <td>Біти 0-1</td>
                <td>6 bpp</td>
                <td>±3</td>
                <td>~44 dB</td>
            </tr>
            <tr>
                <td>3-bit LSB</td>
                <td>Біти 0-2</td>
                <td>9 bpp</td>
                <td>±7</td>
                <td>~37 dB</td>
            </tr>
            <tr>
                <td>4-bit LSB</td>
                <td>Біти 0-3</td>
                <td>12 bpp</td>
                <td>±15</td>
                <td>~31 dB</td>
            </tr>
        </table>
    </section>

    <!-- Слайд 9: Візуалізація k-bit -->
    <section class="slide">
        <h2>Візуалізація: 1-bit vs 4-bit</h2>

        <div class="two-column">
            <div class="info-box">
                <h4>1-bit LSB</h4>
                <p style="font-family: monospace; font-size: 1.3rem; text-align: center; margin: 1rem 0;">
                    1101011<span style="color: #ef4444; font-weight: bold;">0</span>
                </p>
                <ul>
                    <li>Зміна: ±1</li>
                    <li>PSNR: ~51 dB</li>
                    <li>Якість: відмінна</li>
                </ul>
            </div>

            <div class="warning-box">
                <h4>4-bit LSB</h4>
                <p style="font-family: monospace; font-size: 1.3rem; text-align: center; margin: 1rem 0;">
                    1101<span style="color: #ef4444; font-weight: bold;">0110</span>
                </p>
                <ul>
                    <li>Зміна: ±15</li>
                    <li>PSNR: ~31 dB</li>
                    <li>Якість: помітні артефакти</li>
                </ul>
            </div>
        </div>

        <div class="warning-box">
            <p style="text-align: center;">
                <strong>Рекомендація:</strong> не більше 2 бітів на канал для практичного використання
            </p>
        </div>
    </section>

    <!-- Слайд 10: Техніка 3-3-2 -->
    <section class="slide">
        <h2>Техніка LSB 3-3-2</h2>

        <div class="info-box">
            <p style="text-align: center; font-size: 1.1rem;">
                Враховує чутливість ока до різних каналів
            </p>
        </div>

        <div class="three-col-grid">
            <div class="card-red" style="text-align: center;">
                <h3>Red</h3>
                <p style="font-size: 2rem; font-weight: bold;">3 біти</p>
                <p style="font-family: monospace;">xxxxx<span style="font-weight: bold;">210</span></p>
            </div>
            <div class="card-green" style="text-align: center;">
                <h3>Green</h3>
                <p style="font-size: 2rem; font-weight: bold;">3 біти</p>
                <p style="font-family: monospace;">xxxxx<span style="font-weight: bold;">543</span></p>
            </div>
            <div class="card-blue" style="text-align: center;">
                <h3>Blue</h3>
                <p style="font-size: 2rem; font-weight: bold;">2 біти</p>
                <p style="font-family: monospace;">xxxxxx<span style="font-weight: bold;">76</span></p>
            </div>
        </div>

        <div class="success-box">
            <p style="text-align: center; font-size: 1.2rem;">
                <strong>Результат:</strong> 8 біт (1 байт) на піксель!
            </p>
        </div>
    </section>

    <!-- Слайд 11: Ємність 3-3-2 -->
    <section class="slide">
        <h2>Порівняння ємності</h2>

        <div class="info-box">
            <h4>Зображення 1024 × 768 пікселів</h4>
        </div>

        <table class="comparison-table" style="margin: 1.5rem auto;">
            <tr>
                <th>Метод</th>
                <th>Біт/піксель</th>
                <th>Ємність</th>
            </tr>
            <tr>
                <td>1-bit LSB (RGB)</td>
                <td>3 bpp</td>
                <td>~288 КБ</td>
            </tr>
            <tr>
                <td>2-bit LSB (RGB)</td>
                <td>6 bpp</td>
                <td>~576 КБ</td>
            </tr>
            <tr>
                <td class="cell-green"><strong>LSB 3-3-2</strong></td>
                <td class="cell-green"><strong>8 bpp</strong></td>
                <td class="cell-green"><strong>~768 КБ</strong></td>
            </tr>
        </table>

        <div class="success-box">
            <p style="text-align: center;">
                LSB 3-3-2 має ємність у <strong>2.67× більшу</strong> ніж стандартний 1-bit LSB!
            </p>
        </div>
    </section>

    <!-- Слайд 12: Підсумок -->
    <section class="slide">
        <h2>Підсумок теми</h2>

        <div class="info-box">
            <h3>Алгоритми вбудовування LSB</h3>
            <ul style="font-size: 1.05rem; line-height: 2;">
                <li><strong>Послідовний</strong> — простий, але вразливий до детекції</li>
                <li><strong>Псевдовипадковий</strong> — потребує ключ, стійкіший до Chi-Square</li>
                <li><strong>k-бітовий</strong> — більше ємність, але гірша якість</li>
                <li><strong>LSB 3-3-2</strong> — максимальна ємність (1 байт/піксель)</li>
            </ul>
        </div>

        <div class="success-box">
            <p style="text-align: center; font-size: 1.2rem;">
                <strong>Далі:</strong> Метрики оцінки якості (PSNR, SSIM, MSE)
            </p>
        </div>
    </section>


</div>

<div class="slide-counter" id="counter"></div>
<div class="slide-progress" id="progress"></div>

<div class="controls">
  <button class="btn-home" title="На головну">&#x1F3E0;</button>
  <button id="btn-prev" title="Попередній">&larr;</button>
  <button id="btn-next" title="Наступний">&rarr;</button>
</div>

<script src="../../js/slides.js"></script>
</body>
</html>
