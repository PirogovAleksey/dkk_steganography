<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Метрики якості | Лекція 5.3</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/slides.css">
</head>
<body>

<div class="slide-deck">


    <!-- Слайд 1: Титульний -->
    <section class="slide active title-slide">
        <h1>Метрики якості</h1>
        <div class="subtitle">
            Тема 3: MSE, PSNR, SSIM — оцінка якості стего-зображень
        </div>
    </section>

    <!-- Слайд 2: Навіщо метрики? -->
    <section class="slide">
        <h2>Навіщо потрібні метрики якості?</h2>

        <div class="info-box">
            <p style="text-align: center; font-size: 1.2rem;">
                Як виміряти, наскільки стего-зображення відрізняється від оригіналу?
            </p>
        </div>

        <div class="two-column">
            <div>
                <h4>Задачі метрик</h4>
                <ul>
                    <li>Оцінка візуальної якості</li>
                    <li>Порівняння алгоритмів</li>
                    <li>Визначення безпечної ємності</li>
                    <li>Контроль спотворень</li>
                </ul>
            </div>
            <div>
                <h4>Основні метрики</h4>
                <ul>
                    <li><strong>MSE</strong> — середня помилка</li>
                    <li><strong>PSNR</strong> — сигнал/шум</li>
                    <li><strong>SSIM</strong> — структурна схожість</li>
                    <li><strong>BPP</strong> — ємність</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Слайд 3: MSE -->
    <section class="slide">
        <h2>MSE (Mean Square Error)</h2>

        <div class="info-box">
            <h4>Середньоквадратична помилка</h4>
            <p>Вимірює середню різницю між пікселями оригіналу та стего-зображення</p>
        </div>

        <div class="formula-box">
            MSE = (1 / m×n) × ΣΣ [I(i,j) - K(i,j)]²
        </div>

        <div class="two-column" style="margin-top: 1.5rem;">
            <div class="metric-card">
                <h4>Змінні</h4>
                <ul style="text-align: left;">
                    <li><strong>m, n</strong> — розміри зображення</li>
                    <li><strong>I(i,j)</strong> — піксель оригіналу</li>
                    <li><strong>K(i,j)</strong> — піксель стего</li>
                </ul>
            </div>
            <div class="metric-card">
                <h4>Інтерпретація</h4>
                <ul style="text-align: left;">
                    <li><strong>MSE = 0</strong> — ідентичні</li>
                    <li><strong>MSE &lt; 1</strong> — відмінно</li>
                    <li>Менше = краще</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Слайд 4: PSNR -->
    <section class="slide">
        <h2>PSNR (Peak Signal-to-Noise Ratio)</h2>

        <div class="info-box">
            <h4>Пікове відношення сигнал/шум</h4>
            <p>Найпоширеніша метрика якості в стеганографії</p>
        </div>

        <div class="formula-box">
            PSNR = 10 × log₁₀(MAX² / MSE)
        </div>

        <p style="text-align: center; margin-top: 1rem;">
            або еквівалентно:
        </p>

        <div class="formula-box">
            PSNR = 20 × log₁₀(MAX / √MSE)
        </div>

        <div class="info-box" style="margin-top: 1rem;">
            <p style="text-align: center;">
                <strong>MAX = 255</strong> для 8-бітних зображень<br>
                Результат вимірюється в <strong>децибелах (dB)</strong>
            </p>
        </div>
    </section>

    <!-- Слайд 5: Шкала PSNR -->
    <section class="slide">
        <h2>Шкала PSNR</h2>

        <div class="psnr-scale">
            <span>&lt;20 dB</span>
            <span>20-30 dB</span>
            <span>30-40 dB</span>
            <span>40-50 dB</span>
            <span>&gt;50 dB</span>
        </div>

        <table class="comparison-table" style="margin: 1rem auto;">
            <tr>
                <th>PSNR (dB)</th>
                <th>Якість</th>
                <th>Сприйняття</th>
            </tr>
            <tr>
                <td class="cell-green" style="font-weight: bold;">&gt; 50 dB</td>
                <td>Відмінна</td>
                <td>Абсолютно непомітно</td>
            </tr>
            <tr>
                <td style="background: #d1fae5;">40-50 dB</td>
                <td>Дуже добра</td>
                <td>Непомітно без інструментів</td>
            </tr>
            <tr>
                <td class="cell-yellow">30-40 dB</td>
                <td>Добра</td>
                <td>Мінімальні артефакти</td>
            </tr>
            <tr>
                <td style="background: #fed7aa;">20-30 dB</td>
                <td>Задовільна</td>
                <td>Помітна деградація</td>
            </tr>
            <tr>
                <td style="background: #fecaca;">&lt; 20 dB</td>
                <td>Погана</td>
                <td>Значні спотворення</td>
            </tr>
        </table>
    </section>

    <!-- Слайд 6: PSNR для LSB -->
    <section class="slide">
        <h2>Типові значення PSNR для LSB</h2>

        <div class="pixel-grid cols-4">
            <div class="metric-card">
                <h4>1-bit LSB</h4>
                <div class="metric-value">~51</div>
                <p>dB</p>
                <p style="font-weight: bold;">Відмінно</p>
            </div>
            <div class="metric-card">
                <h4>2-bit LSB</h4>
                <div class="metric-value">~44</div>
                <p>dB</p>
                <p style="font-weight: bold;">Дуже добре</p>
            </div>
            <div class="metric-card">
                <h4>3-bit LSB</h4>
                <div class="metric-value">~37</div>
                <p>dB</p>
                <p style="font-weight: bold;">Добре</p>
            </div>
            <div class="metric-card">
                <h4>4-bit LSB</h4>
                <div class="metric-value">~31</div>
                <p>dB</p>
                <p style="font-weight: bold;">Помітно</p>
            </div>
        </div>

        <div class="info-box">
            <p style="text-align: center;">
                <strong>Рекомендація:</strong> для якісної стеганографії PSNR > 40 dB
            </p>
        </div>
    </section>

    <!-- Слайд 7: SSIM -->
    <section class="slide">
        <h2>SSIM (Structural Similarity Index)</h2>

        <div class="info-box">
            <h4>Індекс структурної схожості</h4>
            <p>Краще корелює з людським сприйняттям, ніж PSNR</p>
        </div>

        <div class="formula-box" style="font-size: 1.1rem;">
            SSIM(x,y) = [(2μₓμᵧ + c₁)(2σₓᵧ + c₂)] / [(μₓ² + μᵧ² + c₁)(σₓ² + σᵧ² + c₂)]
        </div>

        <div class="two-column" style="margin-top: 1.5rem;">
            <div class="metric-card">
                <h4>Компоненти SSIM</h4>
                <ul style="text-align: left;">
                    <li><strong>μ</strong> — яскравість (luminance)</li>
                    <li><strong>σ²</strong> — контраст (contrast)</li>
                    <li><strong>σₓᵧ</strong> — структура (structure)</li>
                </ul>
            </div>
            <div class="metric-card">
                <h4>Інтерпретація</h4>
                <ul style="text-align: left;">
                    <li><strong>SSIM = 1</strong> — ідентичні</li>
                    <li><strong>SSIM > 0.99</strong> — відмінно</li>
                    <li><strong>SSIM > 0.95</strong> — добре</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Слайд 8: SSIM vs PSNR -->
    <section class="slide">
        <h2>SSIM vs PSNR</h2>

        <table class="comparison-table" style="margin: 1.5rem auto;">
            <tr>
                <th>Характеристика</th>
                <th>PSNR</th>
                <th>SSIM</th>
            </tr>
            <tr>
                <td>Що вимірює</td>
                <td>Піксельна різниця</td>
                <td>Структурна схожість</td>
            </tr>
            <tr>
                <td>Кореляція з оком</td>
                <td class="cell-yellow">Помірна</td>
                <td class="cell-green">Висока</td>
            </tr>
            <tr>
                <td>Діапазон</td>
                <td>0 - ∞ dB</td>
                <td>-1 до 1</td>
            </tr>
            <tr>
                <td>Інтерпретація</td>
                <td>Більше = краще</td>
                <td>Ближче до 1 = краще</td>
            </tr>
            <tr>
                <td>Обчислення</td>
                <td class="cell-green">Просте</td>
                <td class="cell-yellow">Складніше</td>
            </tr>
            <tr>
                <td>Популярність</td>
                <td class="cell-green">Найвища</td>
                <td>Зростає</td>
            </tr>
        </table>

        <div class="info-box">
            <p style="text-align: center;">
                <strong>Рекомендація:</strong> використовуйте обидві метрики для повної оцінки
            </p>
        </div>
    </section>

    <!-- Слайд 9: BPP -->
    <section class="slide">
        <h2>BPP (Bits Per Pixel)</h2>

        <div class="info-box">
            <h4>Метрика ємності</h4>
            <p>Показує щільність вбудовування даних</p>
        </div>

        <div class="formula-box">
            BPP = Вбудовані біти / Кількість пікселів
        </div>

        <div class="three-col-grid">
            <div class="metric-card">
                <h4>Високий рівень безпеки</h4>
                <div class="metric-value" style="font-size: 2rem;">≤ 0.1</div>
                <p>bpp</p>
            </div>
            <div class="metric-card">
                <h4>Помірний рівень</h4>
                <div class="metric-value" style="font-size: 2rem;">≤ 0.2</div>
                <p>bpp</p>
            </div>
            <div class="metric-card">
                <h4>Безпечний рівень</h4>
                <div class="metric-value" style="font-size: 2rem;">≤ 0.4</div>
                <p>bpp</p>
            </div>
        </div>

        <div class="warning-box">
            <p style="text-align: center;">
                BPP > 0.4 — високий ризик виявлення стегоаналізом!
            </p>
        </div>
    </section>

    <!-- Слайд 10: Приклад розрахунку -->
    <section class="slide">
        <h2>Приклад розрахунку</h2>

        <div class="info-box">
            <h4>Вхідні дані</h4>
            <p>Зображення: 1920 × 1080 (Full HD), RGB, 1-bit LSB</p>
        </div>

        <div class="two-column" style="margin-top: 1.5rem;">
            <div class="metric-card">
                <h4>Максимальна ємність</h4>
                <p style="font-family: monospace; font-size: 1.1rem;">
                    1920 × 1080 × 3 × 1 = <br>
                    <strong>6,220,800 біт</strong>
                </p>
                <p>≈ <strong>760 КБ</strong></p>
            </div>
            <div class="metric-card">
                <h4>Безпечна ємність (0.4 bpp)</h4>
                <p style="font-family: monospace; font-size: 1.1rem;">
                    6,220,800 × 0.4 / 3 = <br>
                    <strong style="color: #10b981;">829,440 біт</strong>
                </p>
                <p>≈ <strong>101 КБ</strong></p>
            </div>
        </div>

        <div class="success-box" style="margin-top: 1.5rem;">
            <p style="text-align: center;">
                <strong>Висновок:</strong> у Full HD зображенні безпечно сховати ~100 КБ даних
            </p>
        </div>
    </section>

    <!-- Слайд 11: Підсумок -->
    <section class="slide">
        <h2>Підсумок теми</h2>

        <table class="comparison-table" style="margin: 1rem auto;">
            <tr>
                <th>Метрика</th>
                <th>Формула</th>
                <th>Ідеал</th>
                <th>Призначення</th>
            </tr>
            <tr>
                <td><strong>MSE</strong></td>
                <td>Σ(I-K)² / n</td>
                <td>0</td>
                <td>Базова помилка</td>
            </tr>
            <tr>
                <td><strong>PSNR</strong></td>
                <td>10×log(MAX²/MSE)</td>
                <td>∞ dB</td>
                <td>Якість (dB)</td>
            </tr>
            <tr>
                <td><strong>SSIM</strong></td>
                <td>Структурна формула</td>
                <td>1</td>
                <td>Перцептивна якість</td>
            </tr>
            <tr>
                <td><strong>BPP</strong></td>
                <td>bits / pixels</td>
                <td>≤ 0.4</td>
                <td>Безпечна ємність</td>
            </tr>
        </table>

        <div class="success-box">
            <p style="text-align: center; font-size: 1.2rem;">
                <strong>Далі:</strong> Методи стегоаналізу LSB
            </p>
        </div>
    </section>


</div>

<div class="slide-counter" id="counter"></div>
<div class="slide-progress" id="progress"></div>

<div class="controls">
  <button onclick="goHome()" title="На головну">&#x1F3E0;</button>
  <button onclick="prev()" id="btn-prev" title="Попередній">&larr;</button>
  <button onclick="next()" id="btn-next" title="Наступний">&rarr;</button>
</div>

<script src="../../js/slides.js"></script>
</body>
</html>
